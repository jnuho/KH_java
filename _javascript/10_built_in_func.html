<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>10_내장함수.html</title>
</head>
<body>
    <h2>내장함수 built-in Function</h2>
    <p>
        <pre>
        encoding, decoding
        네트워크 상에서 정보를 공유하기 위해서 아스키코드, 유니코드 값으로
        데이터를 변경하는 것
        escape / unescape
        encodingURI / decodeURI
        encodeURIComponent /decodeURIComponent

        escpae : 영문 앞파벳, 숫자, 일부특수문자(@*-_./)를 제외한
        모든 문자를 인코딩

        encodeURI : escape에서 인터넷주소에 사용 되는 일부 특수문자(: ; / = ? &)
        연산자는 변환하지 않는다

        encodeURIComponent : 알파벳과 숫자를 제외한 모든 문자를 인코딩 한다. (UTF-8 방식)
        </pre>
    </p>
    <button onclick="test1();">실행확인</button>
    <div id="area"></div>
    <script>
        function test1(){
            var URI = "http://www.naver.com?test=한글입니다.";
            var esURI = escape(URI);
            var enURI= encodeURI(URI);
            var enURICom= encodeURIComponent(URI);
            var doc = document.getElementById("area");
            doc.innerHTML += "escpae() : " + esURI + "<br>";
            doc.innerHTML += "encodeURI()() : " + enURI + "<br>";
            doc.innerHTML += "encodeURIComponent()() : " + enURICom + "<br>";
            doc.innerHTML += "unescape() : " + unescape(esURI) + "<br>";
            
            doc.innerHTML += "decodeURI() : " + decodeURI(enURI) + "<br>";
            doc.innerHTML += "decodeURIComponent() : " + decodeURIComponent(enURICom) + "<br>";
            console.log(decodeURIComponent(enURI));
            console.log(decodeURI(enURICom));

        }

    </script>
    <p>
        문자열을 자바스크립트 코드를 동적으로 변환해 실행하는 함수
    </p>
    
    <textarea name="code" id="code" cols="30" rows="10" placeholder="자바스크립트 코드작성"></textarea>
    <button onclick="executeCode();">코드실행</button>
    <div id="area1"></div> 

    <script>
        function executeCode(){
            var val = document.getElementById("code");
            eval(val.value);
        }
        console.log('var name=10; alert(name);'); // JS CODE NOT EVALUATED
        // eval('var name=10; alert(name);'); // OK
    </script>
    
    <h2>Infinity와 NaN</h2>
    <p>
        자바스크립트가 표현할 수 없는 숫자는 NaN(Not a Number)로
        또, 자바스크립트는 0으로 숫자를 나누면 infinity로 표현해줌
        * 다른 언어는 에러를 발생하면서 프로그램종료함
    </p>
    <script>
        // var num = prompt("수1");
        // var num1 = prompt("수2");
        
        var num = 10
        var num1 = 0;

        console.log(num/num1); // Infinity
        console.log(typeof (num/num1)); //TYPE : number

        // if(num/num1 == Infinity) // minus 일때는 비교 불가
        // use isFinite()
        if(!isFinite(num/num1))
            alert("cannot divide by 0!");

        // NaN: 숫자로 표현할 수 없을 때.
        console.log(1 + '1'); // 11
        console.log(1 + 'a'); // 1a
        console.log(1 - '1'); // 0
        console.log(1 - 'a'); // NaN

        console.log(1-'a' ==NaN); // false
        console.log(isNaN(1-'a')); // true

    </script>
</body>
</html>